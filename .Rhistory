setwd("~/Documents/Applied Data Science/Spring2019-Proj4-group-12")
load("../output/final_prob.RData")
load('../output/tesseract_vec.RData')
library(dplyr)
# Remove NA in ptc:
final_prob[which(is.na(final_prob$ptc)),]$ptc<- 1e-15
final_prob = final_prob %>%
mutate(score = pc*ptc*`pl|c`*`pr|c`) %>%
select(typo, correction, posx, posy, score)
first_cand = final_prob %>%
group_by(typo, posx, posy) %>%
arrange(desc(score)) %>%
slice(1)
corrected_edition = tesseract_vec
for (i in 1:nrow(first_cand)) {
cor = as.character(first_cand[i,]$correction)
posx = first_cand[i,]$posx
posy = first_cand[i,]$posy
corrected_edition[[posx]][posy] = cor
}
save(corrected_edition,file = "../output/tesseract_vec_correct.RData")
tesseract_vec_new <- corrected_edition
save(tesseract_vec_new,file = "../output/tesseract_vec_correct.RData")
tesseract_vec_new <- corrected_edition
save(tesseract_vec_new,file = "../output/tesseract_vec_correct.RData")
tesseract_vec_new[[1]][8]
